{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/ATIDA2025/community-lending-platform/components/ItemCard.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Item } from '../types';\r\ninterface ItemCardProps {\r\n  item: Item;\r\n}\r\n\r\nconst ItemCard: React.FC<{ item: Item; isAdmin: boolean }> = ({ item, isAdmin }) => {\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md overflow-hidden transform hover:-translate-y-1 transition-transform duration-300\">\r\n      <img src={item.imageUrl} alt={item.name} className=\"w-full h-48 object-cover\" />\r\n      <div className=\"p-4 flex flex-col\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800\">{item.name}</h3>\r\n        <p className=\"text-sm text-gray-500 mb-4\">{item.category}</p>\r\n        <a\r\n          href={`/item/${item.id}`}\r\n          className=\"mt-auto w-full text-center bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition\"\r\n        >\r\n          פרטים והזמנה\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemCard;"],"names":[],"mappings":";;;;;;AAMA,MAAM,WAAuD,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE;IAC7E,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,KAAK,KAAK,QAAQ;gBAAE,KAAK,KAAK,IAAI;gBAAE,WAAU;;;;;;0BACnD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuC,KAAK,IAAI;;;;;;kCAC9D,8OAAC;wBAAE,WAAU;kCAA8B,KAAK,QAAQ;;;;;;kCACxD,8OAAC;wBACC,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;wBACxB,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;uCAEe","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/ATIDA2025/community-lending-platform/app/ItemList.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport { Item } from '../types';\r\nimport ItemCard from '../components/ItemCard';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useSession } from 'next-auth/react';\r\n\r\nconst ItemList: React.FC = () => {\r\n    const [items, setItems] = useState<Item[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState('all');\r\n    const { data: session } = useSession();\r\n    const isAdmin = session?.user?.role === 'ADMIN';\r\n\r\n    useEffect(() => {\r\n        const fetchItems = async () => {\r\n            setIsLoading(true);\r\n            try {\r\n                const res = await fetch('/api/items');\r\n                if (!res.ok) {\r\n                    throw new Error('Failed to fetch items');\r\n                }\r\n                const data = await res.json();\r\n                setItems(data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching items:\", error);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        fetchItems();\r\n    }, []);\r\n\r\n    const categories = useMemo(() => {\r\n        if (!items) return ['all'];\r\n        const allCategories = items.map(item => item.category);\r\n        return ['all', ...Array.from(new Set(allCategories))];\r\n    }, [items]);\r\n\r\n    const filteredItems = useMemo(() => {\r\n        if (!items) return [];\r\n        return items.filter(item => {\r\n            const matchesCategory = selectedCategory === 'all' || item.category === selectedCategory;\r\n            const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n            return matchesCategory && matchesSearch;\r\n        });\r\n    }, [items, searchTerm, selectedCategory]);\r\n\r\n    if (isLoading) {\r\n        return <p className=\"text-center text-gray-500 col-span-full\">טוען פריטים...</p>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flex flex-col md:flex-row gap-4 mb-8\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"חיפוש לפי שם פריט...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"flex-grow p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\r\n                    aria-label=\"Search items\"\r\n                />\r\n                <select\r\n                    value={selectedCategory}\r\n                    onChange={(e) => setSelectedCategory(e.target.value)}\r\n                    className=\"p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\r\n                    aria-label=\"Filter by category\"\r\n                >\r\n                    {categories.map(cat => (\r\n                        <option key={cat} value={cat}>{cat === 'all' ? 'כל הקטגוריות' : cat}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n                {filteredItems.length > 0 ? (\r\n                    filteredItems.map(item => (\r\n                        <ItemCard key={item.id} item={item} isAdmin={isAdmin}/>\r\n                    ))\r\n                ) : (\r\n                    <p className=\"text-center text-gray-500 col-span-full\">לא נמצאו פריטים התואמים את החיפוש.</p>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ItemList;\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;AAEA;AALA;;;;;AAOA,MAAM,WAAqB;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,4JAAU;IACpC,MAAM,UAAU,SAAS,MAAM,SAAS;IAExC,IAAA,kNAAS,EAAC;QACN,MAAM,aAAa;YACf,aAAa;YACb,IAAI;gBACA,MAAM,MAAM,MAAM,MAAM;gBACxB,IAAI,CAAC,IAAI,EAAE,EAAE;oBACT,MAAM,IAAI,MAAM;gBACpB;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,SAAS;YACb,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,yBAAyB;YAC3C,SAAU;gBACN,aAAa;YACjB;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,aAAa,IAAA,gNAAO,EAAC;QACvB,IAAI,CAAC,OAAO,OAAO;YAAC;SAAM;QAC1B,MAAM,gBAAgB,MAAM,GAAG,CAAC,CAAA,OAAQ,KAAK,QAAQ;QACrD,OAAO;YAAC;eAAU,MAAM,IAAI,CAAC,IAAI,IAAI;SAAgB;IACzD,GAAG;QAAC;KAAM;IAEV,MAAM,gBAAgB,IAAA,gNAAO,EAAC;QAC1B,IAAI,CAAC,OAAO,OAAO,EAAE;QACrB,OAAO,MAAM,MAAM,CAAC,CAAA;YAChB,MAAM,kBAAkB,qBAAqB,SAAS,KAAK,QAAQ,KAAK;YACxE,MAAM,gBAAgB,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;YAC7E,OAAO,mBAAmB;QAC9B;IACJ,GAAG;QAAC;QAAO;QAAY;KAAiB;IAExC,IAAI,WAAW;QACX,qBAAO,8OAAC;YAAE,WAAU;sBAA0C;;;;;;IAClE;IAEA,qBACI;;0BACI,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,WAAU;wBACV,cAAW;;;;;;kCAEf,8OAAC;wBACG,OAAO;wBACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;wBACnD,WAAU;wBACV,cAAW;kCAEV,WAAW,GAAG,CAAC,CAAA,oBACZ,8OAAC;gCAAiB,OAAO;0CAAM,QAAQ,QAAQ,iBAAiB;+BAAnD;;;;;;;;;;;;;;;;0BAIzB,8OAAC;gBAAI,WAAU;0BACV,cAAc,MAAM,GAAG,IACpB,cAAc,GAAG,CAAC,CAAA,qBACd,8OAAC,kIAAQ;wBAAe,MAAM;wBAAM,SAAS;uBAA9B,KAAK,EAAE;;;;kFAG1B,8OAAC;oBAAE,WAAU;8BAA0C;;;;;;;;;;;;;AAK3E;uCAEe","debugId":null}}]
}